from urllib.parse import urlparse


def get_url(urls) -> list:
    # 处理urls并返回列表
    if type(urls) != list:
        urls = urls.split(',')
        return urls
    else:
        return urls


# 处理url协议
def parse_url(url) -> list:
    l = []
    l2 = []
    o = urlparse(url)
    if o.scheme.find('http') or o.scheme.find('https'):
        url_http = 'http://' + url
        url_ssl = 'https://' + url
        if not o.path:
            url_http += '/'
            url_ssl += '/'

        l.append(url_http)
        l.append(url_ssl)
        l2 = list(set(l))
    else:
        l.append(url)
        l2 = list(set(l))

    return l2


def get_ports(ports):
    # 处理端口格式
    if ',' in ports:
        port_list = ports.split(',')
        return port_list
    elif '-' in ports:
        port_list = ports.split('-')
        index = int(port_list[0])
        if index == 1:
            end = int(port_list[1]) + 1
            return list(range(index, end))
        else:
            end = int(port_list[1])
            return list(range(index, end))
    else:
        l = [ports]
        return l

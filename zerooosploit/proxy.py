import socks
import socket
import requests


# socks.setdefaultproxy(socks.PROXY_TYPE_SOCKS5, "127.0.0.1", 1086)
# socks.setdefaultproxy(socks.PROXY_TYPE_SOCKS4, "127.0.0.1", 1087)
# socks.set_default_proxy(socks.PROXY_TYPE_HTTP, "127.0.0.1", 1087)
# socket.socket = socks.socksocket

def proxy_set(type, ip, port, status):
    if type.lower() == 'socks4':
        socks.set_default_proxy(socks.PROXY_TYPE_SOCKS4, ip, int(port))
    elif type.lower() == 'socks5':
        socks.set_default_proxy(socks.PROXY_TYPE_SOCKS5, ip, int(port))
    elif type.lower() == 'http':
        socks.set_default_proxy(socks.PROXY_TYPE_HTTP, ip, int(port))

    if status == 1:
        socket.socket = socks.socksocket
    else:
        socks.set_default_proxy(proxy_type=None, addr=None)
        socket.socket = socks.socksocket

    r = requests.get('http://ipinfo.io')
    print(r.text)

#
# proxy_set('socks5', '127.0.0.1', 1086, 0)

# r = requests.get('http://ipinfo.io')
# print(r.text)